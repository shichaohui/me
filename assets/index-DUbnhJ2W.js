import{c as s,o as n,b as c,k as ie,d as R,l,m as se,n as E,p as y,F as x,j as L,t as G,f as H,h as w,_ as j,i as _,w as k,q as D}from"./index-B-H-ZpAV.js";import{l as P,k as re,a as ce,E as ue,b as de,d as me}from"./link-jKJ1kXnT.js";const he="/me/assets/obstacle-DLZht9mK.gif",ge="/me/assets/player-BjzElNnY.gif",fe={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",class:"icon",viewBox:"0 0 1024 1024"};function pe(a,o){return n(),s("svg",fe,[...o[0]||(o[0]=[c("path",{fill:"#fff",d:"M897.279 512.498c-5.822-63.892-59.532-113.945-124.942-113.945a125.7 125.7 0 0 0-30.665 3.781c-25.623-79.206-99.969-136.494-187.707-136.494-73.049 0-136.82 39.709-170.916 98.717-19.122-9.141-40.533-14.264-63.142-14.264-78.589 0-142.728 61.847-146.415 139.523-61.869 9.108-109.36 62.41-109.36 126.808 0 70.796 57.393 128.188 128.19 128.188 33.012 0 63.106-12.482 85.83-32.98 22.6 19.78 52.19 31.774 84.585 31.774 41.062 0 77.623-19.26 101.145-49.24 28.956 37.989 74.674 62.512 126.127 62.512 50.98 0 96.332-24.074 125.325-61.467 23.39 37.622 65.093 62.674 112.653 62.674 73.212 0 132.562-59.35 132.562-132.562-.001-47.812-25.317-89.707-63.27-113.025"},null,-1)])])}const ve={render:pe},ye={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",class:"icon",viewBox:"0 0 1024 1024"};function _e(a,o){return n(),s("svg",ye,[...o[0]||(o[0]=[ie('<path fill="#FFF" d="M464.77 941.82c-74 0-110.64-36.68-121.46-70.57-160.81-93.52-219.49-242.4-202.93-388.72q31.88-281.66 372-215 340.17-66.64 372 215c20.45 180.67-77.29 390.66-349.63 458q-61.41 1.29-69.98 1.29"></path><path fill="#FFD2D1" d="M464.77 941.82c-74 0-54.31-36.68-65.13-70.57-99.76-96-194-234.28-180.39-354.93 16.63-147 66.39-270.71 293.17-226.29 226.78-44.42 350.79 4.72 372 192.5 20.45 180.67-77.29 390.66-349.63 458q-61.45 1.29-70.02 1.29"></path><path fill="#FF9EBB" d="M379.21 902.74q260.94-167.93 260.91-406.26 0-117-31.45-240.1Q872.23 235.74 900 482.55c20.36 180.67-77 390.66-348.17 458q-61.24 1.3-69.77 1.3c-50.55-.01-83.61-17.3-102.85-39.11"></path><path d="M357.82 539.36a20.48 20.48 0 1 1-40.94-1.28c5.69-182.19 83.94-283.69 232.24-296.8a20.48 20.48 0 0 1 3.6 40.8C427 293.19 362.91 376.37 357.82 539.36"></path><path d="M864.12 484.83C844.34 310.07 732.28 245.31 516.36 287.6l-3.94.77-3.94-.77c-215.92-42.3-328 22.47-347.76 197.23-17 149.82 48.78 284.91 192.87 368.71l6.82 4 2.4 7.51c10.42 32.66 45.31 56.32 102 56.32 5.39 0 29.23 2.66 67.34-1.25 235.01-59.06 354.31-237.9 331.97-435.29m-351.7-238.18c235.2-44.92 369.79 33.91 392.39 233.58C929.5 698.37 796.53 896.92 539.75 960.4L520 963c-28 1-50 0-55.23-.7-69.48-9.31-119.6-31.12-138.21-77.16C172.7 792.75 101.53 643.73 120 480.23c22.63-199.68 157.23-278.5 392.42-233.58"></path><path fill="#89D66D" d="M535.47 263.33c.64-35.87 11-81.54 40.86-117.15 54-64.33 146.42-75.68 166.83-58.56S768.43 197.69 714.43 262l-1.35 1.58q-73.39-17.58-177.61-.25"></path><path fill="#015200" d="M548.81 280.85a10.24 10.24 0 0 1-6.7-18l134.84-116.63a10.24 10.24 0 1 1 13.4 15.49L555.5 278.35a10.2 10.2 0 0 1-6.69 2.5"></path><path d="M705 237.89c18-24.69 28.6-55 31.33-85.6 2.34-26.2-2.24-48.58-6.3-52s-26.92-4-52.33 2.82c-32.93 8.89-63.9 27.29-85.7 53.24-18.39 21.9-29.74 50.22-34.08 80q83.13-10.81 147.08 1.54M515 260c.84-47 15.68-94.25 45.65-130 53.11-63.26 159-91.82 195.68-61.08s26.91 140-26.2 203.25l-1.53 1.8-8.14 9.44-12.12-2.9q-69-16.5-169.5 0l-24.27 4z"></path><path fill="#89D66D" d="M461.71 269.2q-63.32-10.94-107.9.17l-.82-1c-32.81-40.73-29.85-99.58-17.45-110.42s68.54-3.65 101.35 37.05c18.11 22.58 24.43 51.49 24.82 74.2"></path><path fill="#015200" d="M449 270.24a10.2 10.2 0 0 1-6.78-2.57l-74.05-65.53a10.24 10.24 0 0 1 13.57-15.34l74.05 65.53a10.24 10.24 0 0 1-6.79 17.91"></path><path d="M472.16 277.4 460 275.29c-40.6-7-75.49-7-103.68 0l-6.32 1.58-4.11-5-.9-1.1c-21.17-26.28-26.57-56.37-27.9-72-1.63-19.05.58-42.87 11.69-52.58 8.21-7.18 22.11-7.62 32.32-6.73 24.66 2.16 59.61 15.13 83.74 45.1 22.87 28.44 26.8 62.61 27.1 80.44zM353.79 159.66c-7.32 0-10.87 1.49-11.52 2-2.45 2.29-6.52 15.57-4.72 35.79 1.1 12.39 5.23 35.55 20.35 56.47 26.5-5.53 57.61-5.81 92.74-.84-1.74-15.09-6.91-37.25-21.72-55.65-19.58-24.31-48.06-35.26-68.18-37.4a66 66 0 0 0-6.95-.37"></path><path d="M498.94 261.82a20.4 20.4 0 0 1-13.86-5.4C403 180.9 339.05 135.76 295.14 122.22a20.48 20.48 0 1 1 12.06-39.14c50.49 15.56 117.74 62.39 205.61 143.18a20.48 20.48 0 0 1-13.87 35.56"></path>',12)])])}const be={render:_e},Me={class:"internalGame"},Ie={key:0,class:"score"},Ce={key:1,class:"tips"},N=5,J=1,ke=3,xe=R({__name:"InternalGame",setup(a){const o=l(),v=l(),r=l(),u=l(),d=l(),$=l(!1),S=l(!1),B=l(!0),b=l(0),U=l(0),F=l(!1);let q=null,M=null,I=null,C=null;const z=l(0),K=l(0),h=l([]),f=l([]),p=l([]);se(()=>{U.value=d.value.clientHeight*2.5,document.onkeydown=e=>{(window.event?e.keyCode:e.which)==32&&($.value?ae():Q())}});function Q(){$.value=!0,q=setInterval(X,16),M=setTimeout(V,0),I=setTimeout(W,0),C=setTimeout(O,5e3),S.value=!0,B.value=!1}function X(){Z(),A(),ee(),te(),le()}function Z(){let e=parseInt(o.value.style.marginLeft)-N;Math.abs(e)>o.value.clientWidth/2&&(e=0),K.value=e}function A(){for(let e=0;e<h.value.length;e++)h.value[e].marginLeft-=h.value[e].speed}function ee(){for(let e=0;e<f.value.length;e++)f.value[e].marginLeft-=N}function te(){for(let e=0;e<p.value.length;e++)p.value[e].marginLeft-=N}function V(){h.value.push({id:Math.random().toString(),size:(Math.random()+.5)*d.value.clientHeight,marginTop:Math.random()*(v.value.clientHeight-d.value.clientHeight),marginLeft:v.value.clientWidth,speed:Math.random()*(ke-J)+J}),M=setTimeout(V,Math.random()*1500+2500)}function W(){const e=Math.random()*b.value/10*.1+1;f.value.push({id:Math.random().toString(),height:e*d.value.clientHeight,marginLeft:r.value.clientWidth,isScored:!1}),I=setTimeout(W,Math.random()*1e3+2e3)}function O(){p.value.push({id:Math.random().toString(),size:d.value.clientHeight/3*2,marginLeft:u.value.clientWidth,bottom:Math.random()*U.value,isScored:!1}),C=setTimeout(O,Math.random()*5e3+5e3)}function ae(){if(F.value)return;F.value=!0;const e=parseInt(d.value.style.bottom);let i=0;const t=setInterval(()=>{const g=Math.sin(i+=.06)*U.value;g>e?z.value=g:(z.value=e,clearInterval(t),F.value=!1)},16)}function le(){for(let t=h.value.length-1;t>=0;t--)h.value[t].marginLeft<-200&&h.value.splice(t,1);const i=T(d.value.getBoundingClientRect());for(let t=f.value.length-1;t>=0;t--){const g=f.value[t],m=T(r.value.children[t].getBoundingClientRect());if(!(i.right<m.left||i.left>m.right||i.top>m.bottom||i.bottom<m.top)){ne();return}i.left>m.right&&!g.isScored&&(g.isScored=!0,Y()),g.marginLeft<-200&&f.value.splice(t,1)}for(let t=p.value.length-1;t>=0;t--){const g=p.value[t],m=T(u.value.children[t].getBoundingClientRect());!(i.right<m.left||i.left>m.right||i.top>m.bottom||i.bottom<m.top)&&!g.isScored&&(g.isScored=!0,Y(),p.value.splice(t,1))}}function T(e){return{top:e.top+e.height*.1,right:e.right-e.width*.1,bottom:e.bottom-e.height*.1,left:e.left+e.width*.1}}function Y(){b.value+=1}function ne(){$.value=!1,b.value=0,q&&clearInterval(q),M&&clearInterval(M),I&&clearInterval(I),C&&clearInterval(C),h.value.splice(0),f.value.splice(0),p.value.splice(0),S.value=!1,B.value=!0}return(e,i)=>(n(),s("div",Me,[c("div",{ref_key:"road",ref:o,class:"road",style:y({marginLeft:`${K.value}px`})},null,4),c("div",{ref_key:"cloudContainer",ref:v,class:"cloudContainer"},[(n(!0),s(x,null,L(h.value,t=>(n(),H(w(ve),{class:"cloud",key:t.id,style:y({width:`${t.size}px`,height:`${t.size}px`,marginTop:`${t.marginTop}px`,marginLeft:`${t.marginLeft}px`})},null,8,["style"]))),128))],512),c("div",{ref_key:"obstacleContainer",ref:r,class:"obstacleContainer"},[(n(!0),s(x,null,L(f.value,t=>(n(),s("img",{class:"obstacle",src:he,key:t.id,style:y({height:`${t.height}px`,marginLeft:`${t.marginLeft}px`})},null,4))),128))],512),c("div",{ref_key:"foodContainer",ref:u,class:"foodContainer"},[(n(!0),s(x,null,L(p.value,t=>(n(),H(w(be),{class:"food",key:t.id,style:y({width:`${t.size}px`,height:`${t.size}px`,marginLeft:`${t.marginLeft}px`,bottom:`${t.bottom}px`})},null,8,["style"]))),128))],512),c("img",{ref_key:"player",ref:d,class:"player flipX",src:ge,style:y({bottom:`${z.value}px`})},null,4),S.value?(n(),s("p",Ie,"得分："+G(b.value),1)):E("",!0),B.value?(n(),s("p",Ce,"按空格键开始游戏")):E("",!0)]))}}),Le=j(xe,[["__scopeId","data-v-30ceb0b6"]]),we="/me/assets/color_up-7lkf3cYo.jpg",$e={id:P.uniqueId(),name:"七彩蹦蹦",logo:we,desc:"基于 Cocos Creator 开发的躲避障碍物的微信小游戏。",detailUrl:"https://github.com/shichaohui/ColorUp",codeUrl:"https://github.com/shichaohui/ColorUp",playUrl:"https://shichaohui.github.io/games/ColorUp/index.html"},Se={id:P.uniqueId(),name:"菜市场刀王",logo:ce,desc:"使用 Cocos Creator 开发的基于飞刀投掷机制的微信小游戏。",detailUrl:`/me#/works?id=${re}`},Be=[$e,Se],Ue={class:"game"},Fe=["src","alt"],qe={class:"name"},ze=R({__name:"Game",props:{game:{}},setup(a){function o(v=""){return v.startsWith("/me")?"":"_blank"}return(v,r)=>{const u=ue,d=de;return n(),s("div",Ue,[c("div",null,[c("img",{class:"logo",src:a.game.logo,alt:a.game.name},null,8,Fe),c("h1",qe,G(a.game.name),1)]),c("p",null,G(a.game.desc),1),_(d,{size:"large",spacer:"|"},{default:k(()=>[_(u,{type:"primary",href:a.game.detailUrl,target:o(a.game.detailUrl),disabled:!a.game.detailUrl},{default:k(()=>[...r[0]||(r[0]=[D(" 详情 ",-1)])]),_:1},8,["href","target","disabled"]),_(u,{type:"primary",href:a.game.codeUrl,target:o(a.game.codeUrl),disabled:!a.game.codeUrl},{default:k(()=>[...r[1]||(r[1]=[D(" 源码 ",-1)])]),_:1},8,["href","target","disabled"]),_(u,{type:"primary",href:a.game.playUrl,target:o(a.game.playUrl),disabled:!a.game.playUrl},{default:k(()=>[...r[2]||(r[2]=[D(" 试玩 ",-1)])]),_:1},8,["href","target","disabled"])]),_:1})])}}}),Te=j(ze,[["__scopeId","data-v-75476acd"]]),De={key:0,class:"internalGame"},Ne={class:"gameList"},Ee=R({__name:"index",setup(a){const o=me.isMobile();return(v,r)=>(n(),s("div",null,[w(o)?E("",!0):(n(),s("div",De,[_(Le)])),c("div",Ne,[(n(!0),s(x,null,L(w(Be),u=>(n(),H(Te,{key:u.id,game:u},null,8,["game"]))),128))])]))}}),Re=j(Ee,[["__scopeId","data-v-ff5b54fb"]]);export{Re as default};
//# sourceMappingURL=index-DUbnhJ2W.js.map
