var K=Object.defineProperty;var k=(t,e,r)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var u=(t,e,r)=>(k(t,typeof e!="symbol"?e+"":e,r),r);import{v as q,x as T,o as l,c as h,b as d,y as b,F as O,e as L,t as j,z as R,d as N,a as C,w as A,g as U,A as X,u as Q,f as Y}from"./vendor.ab4f7960.js";import{_ as F}from"./index.6c25df97.js";import{l as Z}from"./lodash.c20309b2.js";/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t,e,r){return e&&H(t.prototype,e),r&&H(t,r),t}function et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G(Object(r),!0).forEach(function(n){et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},S(t)}function x(t,e){return x=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},x(t,e)}function nt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:ot(t)}function st(t){var e=nt();return function(){var n=S(t),o;if(e){var s=S(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return it(this,o)}}function at(t){return ut(t)||ct(t)||lt(t)||ft()}function ut(t){if(Array.isArray(t))return M(t)}function ct(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function lt(t,e){if(!!t){if(typeof t=="string")return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(t,e)}}function M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(t,e,r){Object.defineProperty(t,e,{get:r,enumerable:!1,configurable:!0})}function ht(t,e,r){Object.defineProperty(t,e,{get:function(){return r[e].value},set:function(o){r[e].value=o},enumerable:!0,configurable:!0})}function dt(t){var e=Object.getPrototypeOf(t.prototype);if(!!e)return e.constructor}function I(t,e){return t.hasOwnProperty(e)?t[e]:void 0}var z=function(){function t(e,r){var n=this;D(this,t),y(this,"$props",function(){return e}),y(this,"$attrs",function(){return r.attrs}),y(this,"$slots",function(){return r.slots}),y(this,"$emit",function(){return r.emit}),Object.keys(e).forEach(function(o){Object.defineProperty(n,o,{enumerable:!1,configurable:!0,writable:!0,value:e[o]})})}return tt(t,null,[{key:"registerHooks",value:function(r){var n;(n=this.__h).push.apply(n,at(r))}},{key:"with",value:function(r){var n=new r,o={};Object.keys(n).forEach(function(i){var a=n[i];o[i]=a!=null?a:null});var s=function(i){rt(p,i);var a=st(p);function p(){return D(this,p),a.apply(this,arguments)}return p}(this);return s.__b={props:o},s}},{key:"__vccOpts",get:function(){if(this===V)return{};var r=this,n=I(r,"__c");if(n)return n;var o=$({},I(r,"__o"));r.__c=o;var s=dt(r);s&&(o.extends=s.__vccOpts);var i=I(r,"__b");i&&(o.mixins=o.mixins||[],o.mixins.unshift(i)),o.methods=$({},o.methods),o.computed=$({},o.computed);var a=r.prototype;Object.getOwnPropertyNames(a).forEach(function(c){if(c!=="constructor"){if(r.__h.indexOf(c)>-1){o[c]=a[c];return}var g=Object.getOwnPropertyDescriptor(a,c);if(typeof g.value=="function"){o.methods[c]=g.value;return}if(g.get||g.set){o.computed[c]={get:g.get,set:g.set};return}}}),o.setup=function(c,g){var w,m=new r(c,g),B=Object.keys(m),_={},v=null;return B.forEach(function(f){m[f]===void 0||m[f]&&m[f].__s||(_[f]=q(m[f]),ht(m,f,_))}),B.forEach(function(f){if(m[f]&&m[f].__s){var P=m[f].__s();P instanceof Promise?(v||(v=Promise.resolve(_)),v=v.then(function(){return P.then(function(J){return _[f]=T(J),_})})):_[f]=T(P)}}),(w=v)!==null&&w!==void 0?w:_};var p=I(r,"__d");p&&p.forEach(function(c){return c(o)});var W=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return W.forEach(function(c){r[c]&&(o[c]=r[c])}),o}}]),t}();z.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var V=z;function pt(t){return function(e){return e.__o=t,e}}var mt="/me/assets/cloud.1d6341bd.svg",gt="/me/assets/obstacle.c693542a.gif",_t="/me/assets/food.51419ff6.svg",vt="/me/assets/player.993d3eb5.gif";var bt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,It=(t,e,r,n)=>{for(var o=n>1?void 0:n?yt(e,r):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&bt(e,r,o),o};let E=class extends V{constructor(){super(...arguments);u(this,"isPlaying",!1);u(this,"isShowScore",!1);u(this,"isShowTips",!0);u(this,"currentScore",0);u(this,"jumpHeight",0);u(this,"isJumping",!1);u(this,"speed",5);u(this,"cloudMinSpeed",1);u(this,"cloudMaxSpeed",3);u(this,"gameIntervalId",null);u(this,"generateCloudIntervalId",null);u(this,"generateObstacleIntervalId",null);u(this,"generateFoodIntervalId",null);u(this,"playerBottom",0);u(this,"roadMarginLeft",0);u(this,"cloudList",[]);u(this,"obstacleList",[]);u(this,"foodList",[])}mounted(){this.jumpHeight=this.$refs.player.clientHeight*2.5,document.onkeydown=t=>{(window.event?t.keyCode:t.which)==32&&(this.isPlaying||this.start(),this.jump())}}start(){this.isPlaying=!0,this.gameIntervalId=setInterval(this.gameInterval,16),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,0),this.generateFoodIntervalId=setTimeout(this.generateFood,5e3),this.isShowScore=!0,this.isShowTips=!1}gameInterval(){this.moveRoad(),this.moveObstacle(),this.moveFood(),this.checkGameState()}moveRoad(){const{road:t}=this.$refs;let e=parseInt(t.style.marginLeft)-this.speed;Math.abs(e)>t.clientWidth/2&&(e=0),this.roadMarginLeft=e}moveCloud(){for(let t=0;t<this.cloudList.length;t++)this.cloudList[t].marginLeft-=this.cloudList[t].speed}moveObstacle(){for(let t=0;t<this.obstacleList.length;t++)this.obstacleList[t].marginLeft-=this.speed}moveFood(){for(let t=0;t<this.foodList.length;t++)this.foodList[t].marginLeft-=this.speed}generateCloud(){const{cloudContainer:t,player:e}=this.$refs;this.cloudList.push({id:Math.random().toString(),height:(Math.random()+.5)*e.clientHeight,marginTop:Math.random()*(t.clientHeight-e.clientHeight),marginLeft:t.clientWidth,speed:Math.random()*(this.cloudMaxSpeed-this.cloudMinSpeed)+this.cloudMinSpeed}),this.generateCloudIntervalId=setTimeout(this.generateCloud,Math.random()*1500+2500)}generateObstacle(){const{obstacleContainer:t,player:e}=this.$refs,r=Math.random()*this.currentScore/10*.1+1;this.obstacleList.push({id:Math.random().toString(),height:r*e.clientHeight,marginLeft:t.clientWidth,isScored:!1}),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,Math.random()*1e3+2e3)}generateFood(){this.foodList.push({id:Math.random().toString(),height:this.$refs.player.clientHeight/3*2,marginLeft:this.$refs.foodContainer.clientWidth,bottom:Math.random()*this.jumpHeight,isScored:!1}),this.generateFoodIntervalId=setTimeout(this.generateFood,Math.random()*5e3+5e3)}jump(){if(this.isJumping)return;this.isJumping=!0;const{player:t}=this.$refs,e=parseInt(t.style.bottom);let r=0;const n=setInterval(()=>{const o=Math.sin(r+=.06)*this.jumpHeight;o>e?this.playerBottom=o:(this.playerBottom=e,clearInterval(n),this.isJumping=!1)},16)}checkGameState(){for(let s=this.cloudList.length-1;s>=0;s--)this.cloudList[s].marginLeft<-200&&this.cloudList.splice(s,1);const{player:e}=this.$refs,r=this.zoomOutBound(e.getBoundingClientRect()),{obstacleContainer:n}=this.$refs;for(let s=this.obstacleList.length-1;s>=0;s--){const i=this.obstacleList[s],a=this.zoomOutBound(n.children[s].getBoundingClientRect());if(!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)){this.over();return}r.left>a.right&&!i.isScored&&(i.isScored=!0,this.scoring()),i.marginLeft<-200&&this.obstacleList.splice(s,1)}const{foodContainer:o}=this.$refs;for(let s=this.foodList.length-1;s>=0;s--){const i=this.foodList[s],a=this.zoomOutBound(o.children[s].getBoundingClientRect());!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)&&!i.isScored&&(i.isScored=!0,this.scoring(),this.foodList.splice(s,1))}}zoomOutBound(t){return{top:t.top+t.height*.1,right:t.right-t.width*.1,bottom:t.bottom-t.height*.1,left:t.left+t.width*.1}}scoring(){this.currentScore+=1}over(){this.isPlaying=!1,this.currentScore=0,this.gameIntervalId&&clearInterval(this.gameIntervalId),this.generateCloudIntervalId&&clearInterval(this.generateCloudIntervalId),this.generateObstacleIntervalId&&clearInterval(this.generateObstacleIntervalId),this.generateFoodIntervalId&&clearInterval(this.generateFoodIntervalId),this.cloudList.splice(0),this.obstacleList.splice(0),this.foodList.splice(0),this.isShowScore=!1,this.isShowTips=!0}};E=It([pt({})],E);const Ot=E,Lt={class:"internalGame"},St={ref:"cloudContainer",class:"cloudContainer"},wt={ref:"obstacleContainer",class:"obstacleContainer"},Pt={ref:"foodContainer",class:"foodContainer"},$t={key:0,class:"score"},jt={key:1,class:"tips"};function Ct(t,e,r,n,o,s){return l(),h("div",Lt,[d("div",{ref:"road",class:"road",style:b({marginLeft:`${t.roadMarginLeft}px`})},null,4),d("div",St,[(l(!0),h(O,null,L(t.cloudList,i=>(l(),h("img",{class:"cloud",src:mt,key:i.id,style:b({height:`${i.height}px`,marginTop:`${i.marginTop}px`,marginLeft:`${i.marginLeft}px`})},null,4))),128))],512),d("div",wt,[(l(!0),h(O,null,L(t.obstacleList,i=>(l(),h("img",{class:"obstacle",src:gt,key:i.id,style:b({height:`${i.height}px`,marginLeft:`${i.marginLeft}px`})},null,4))),128))],512),d("div",Pt,[(l(!0),h(O,null,L(t.foodList,i=>(l(),h("img",{class:"food",src:_t,key:i.id,style:b({height:`${i.height}px`,marginLeft:`${i.marginLeft}px`,bottom:`${i.bottom}px`})},null,4))),128))],512),d("img",{ref:"player",class:"player flipX",src:vt,style:b({bottom:`${t.playerBottom}px`})},null,4),t.isShowScore?(l(),h("p",$t,"\u5F97\u5206\uFF1A"+j(t.currentScore),1)):R("",!0),t.isShowTips?(l(),h("p",jt,"\u6309\u7A7A\u683C\u952E\u5F00\u59CB\u6E38\u620F")):R("",!0)])}var xt=F(Ot,[["render",Ct],["__scopeId","data-v-01da509e"]]);const Mt={class:"game"},Et=["src","alt"],Ft={class:"name"},Bt={class:"actionBar"},Tt=U("\u6E90\u7801"),Rt=U("\u8BD5\u73A9 Web \u7248"),At=N({props:{game:null},setup(t){return(e,r)=>{const n=X;return l(),h("div",Mt,[d("div",null,[d("img",{class:"logo",src:t.game.logo,alt:t.game.name},null,8,Et),d("h1",Ft,j(t.game.name),1)]),d("p",null,j(t.game.desc),1),d("span",Bt,[C(n,{type:"primary",href:t.game.codeUrl,target:"_blank"},{default:A(()=>[Tt]),_:1},8,["href"]),C(n,{type:"primary",href:t.game.url,target:"_blank"},{default:A(()=>[Rt]),_:1},8,["href"])])])}}});var Dt=F(At,[["__scopeId","data-v-3cb16052"]]),Ht="/me/assets/ColorUp.30fb190b.jpg";const Gt=[{id:Z.exports.uniqueId(),name:"\u4E03\u5F69\u8E66\u8E66",logo:Ht,desc:"\u57FA\u4E8E Cocos Creator \u5F00\u53D1\u7684\u8EB2\u907F\u969C\u788D\u7269\u7684\u5FAE\u4FE1\u5C0F\u6E38\u620F\u3002",url:"https://shichaohui.github.io/games/ColorUp/index.html",codeUrl:"https://github.com/shichaohui/ColorUp"}];const Nt={class:"internalGame"},Ut={class:"gameList"},zt=N({setup(t){return(e,r)=>(l(),h("div",null,[d("div",Nt,[C(xt)]),d("div",Ut,[(l(!0),h(O,null,L(Q(Gt),n=>(l(),Y(Dt,{key:n.id,game:n},null,8,["game"]))),128))])]))}});var kt=F(zt,[["__scopeId","data-v-d93e91c2"]]);export{kt as default};
//# sourceMappingURL=index.48424fa4.js.map
