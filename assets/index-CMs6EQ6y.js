import{c,o as n,f as X,d as E,g as l,h as ee,b as f,i as F,n as w,F as q,r as z,t as j,j as V,u as D,_ as te,e as v,w as x,E as ae,k as $,l as le}from"./index-ByhMqVqW.js";import{l as G,k as oe,a as se,E as ne}from"./knifeking-BCozRGQv.js";const ie="/me/assets/obstacle-DLZht9mK.gif",re="/me/assets/player-BjzElNnY.gif",ce={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",class:"icon",viewBox:"0 0 1024 1024"};function ue(a,i){return n(),c("svg",ce,[...i[0]||(i[0]=[X('<path fill="#FFF" d="M464.77 941.82c-74 0-110.64-36.68-121.46-70.57-160.81-93.52-219.49-242.4-202.93-388.72q31.88-281.66 372-215 340.17-66.64 372 215c20.45 180.67-77.29 390.66-349.63 458q-61.41 1.29-69.98 1.29"></path><path fill="#FFD2D1" d="M464.77 941.82c-74 0-54.31-36.68-65.13-70.57-99.76-96-194-234.28-180.39-354.93 16.63-147 66.39-270.71 293.17-226.29 226.78-44.42 350.79 4.72 372 192.5 20.45 180.67-77.29 390.66-349.63 458q-61.45 1.29-70.02 1.29"></path><path fill="#FF9EBB" d="M379.21 902.74q260.94-167.93 260.91-406.26 0-117-31.45-240.1Q872.23 235.74 900 482.55c20.36 180.67-77 390.66-348.17 458q-61.24 1.3-69.77 1.3c-50.55-.01-83.61-17.3-102.85-39.11"></path><path d="M357.82 539.36a20.48 20.48 0 1 1-40.94-1.28c5.69-182.19 83.94-283.69 232.24-296.8a20.48 20.48 0 0 1 3.6 40.8C427 293.19 362.91 376.37 357.82 539.36"></path><path d="M864.12 484.83C844.34 310.07 732.28 245.31 516.36 287.6l-3.94.77-3.94-.77c-215.92-42.3-328 22.47-347.76 197.23-17 149.82 48.78 284.91 192.87 368.71l6.82 4 2.4 7.51c10.42 32.66 45.31 56.32 102 56.32 5.39 0 29.23 2.66 67.34-1.25 235.01-59.06 354.31-237.9 331.97-435.29m-351.7-238.18c235.2-44.92 369.79 33.91 392.39 233.58C929.5 698.37 796.53 896.92 539.75 960.4L520 963c-28 1-50 0-55.23-.7-69.48-9.31-119.6-31.12-138.21-77.16C172.7 792.75 101.53 643.73 120 480.23c22.63-199.68 157.23-278.5 392.42-233.58"></path><path fill="#89D66D" d="M535.47 263.33c.64-35.87 11-81.54 40.86-117.15 54-64.33 146.42-75.68 166.83-58.56S768.43 197.69 714.43 262l-1.35 1.58q-73.39-17.58-177.61-.25"></path><path fill="#015200" d="M548.81 280.85a10.24 10.24 0 0 1-6.7-18l134.84-116.63a10.24 10.24 0 1 1 13.4 15.49L555.5 278.35a10.2 10.2 0 0 1-6.69 2.5"></path><path d="M705 237.89c18-24.69 28.6-55 31.33-85.6 2.34-26.2-2.24-48.58-6.3-52s-26.92-4-52.33 2.82c-32.93 8.89-63.9 27.29-85.7 53.24-18.39 21.9-29.74 50.22-34.08 80q83.13-10.81 147.08 1.54M515 260c.84-47 15.68-94.25 45.65-130 53.11-63.26 159-91.82 195.68-61.08s26.91 140-26.2 203.25l-1.53 1.8-8.14 9.44-12.12-2.9q-69-16.5-169.5 0l-24.27 4z"></path><path fill="#89D66D" d="M461.71 269.2q-63.32-10.94-107.9.17l-.82-1c-32.81-40.73-29.85-99.58-17.45-110.42s68.54-3.65 101.35 37.05c18.11 22.58 24.43 51.49 24.82 74.2"></path><path fill="#015200" d="M449 270.24a10.2 10.2 0 0 1-6.78-2.57l-74.05-65.53a10.24 10.24 0 0 1 13.57-15.34l74.05 65.53a10.24 10.24 0 0 1-6.79 17.91"></path><path d="M472.16 277.4 460 275.29c-40.6-7-75.49-7-103.68 0l-6.32 1.58-4.11-5-.9-1.1c-21.17-26.28-26.57-56.37-27.9-72-1.63-19.05.58-42.87 11.69-52.58 8.21-7.18 22.11-7.62 32.32-6.73 24.66 2.16 59.61 15.13 83.74 45.1 22.87 28.44 26.8 62.61 27.1 80.44zM353.79 159.66c-7.32 0-10.87 1.49-11.52 2-2.45 2.29-6.52 15.57-4.72 35.79 1.1 12.39 5.23 35.55 20.35 56.47 26.5-5.53 57.61-5.81 92.74-.84-1.74-15.09-6.91-37.25-21.72-55.65-19.58-24.31-48.06-35.26-68.18-37.4a66 66 0 0 0-6.95-.37"></path><path d="M498.94 261.82a20.4 20.4 0 0 1-13.86-5.4C403 180.9 339.05 135.76 295.14 122.22a20.48 20.48 0 1 1 12.06-39.14c50.49 15.56 117.74 62.39 205.61 143.18a20.48 20.48 0 0 1-13.87 35.56"></path>',12)])])}const de={render:ue},fe={class:"relative w-full h-full"},he={key:0,class:"tips bottom-8 left-[18%] -translate-x-full text-lg"},me={key:1,class:"tips bottom-4 left-[50%] translate-x-[-50%] text-base"},B=5,ge=E({__name:"InternalGame",setup(a){const i=l(),g=l(),r=l(),o=l(),p=l(!1),k=l(!1),I=l(!0),b=l(0),M=l(0),C=l(!1);let L=null,y=null,_=null;const S=l(0),N=l(0),h=l([]),m=l([]);ee(()=>{M.value=o.value.clientHeight*2.5,document.onkeydown=e=>{(window.event?e.keyCode:e.which)==32&&(p.value?P():H())}});function H(){p.value=!0,L=setInterval(O,16),y=setTimeout(R,0),_=setTimeout(T,5e3),k.value=!0,I.value=!1}function O(){W(),Y(),J(),Q()}function W(){let e=parseInt(i.value.style.marginLeft)-B;Math.abs(e)>i.value.clientWidth/2&&(e=0),N.value=e}function Y(){for(let e=0;e<h.value.length;e++)h.value[e].marginLeft-=B}function J(){for(let e=0;e<m.value.length;e++)m.value[e].marginLeft-=B}function R(){const e=Math.random()*b.value/10*.1+1;h.value.push({id:Math.random().toString(),height:e*o.value.clientHeight,marginLeft:g.value.clientWidth,isScored:!1}),y=setTimeout(R,Math.random()*1e3+2e3)}function T(){m.value.push({id:Math.random().toString(),size:o.value.clientHeight/3*2,marginLeft:r.value.clientWidth,bottom:Math.random()*M.value,isScored:!1}),_=setTimeout(T,Math.random()*5e3+5e3)}function P(){if(C.value)return;C.value=!0;const e=parseInt(o.value.style.bottom);let s=0;const t=setInterval(()=>{const d=Math.sin(s+=.06)*M.value;d>e?S.value=d:(S.value=e,clearInterval(t),C.value=!1)},16)}function Q(){const s=U(o.value.getBoundingClientRect());for(let t=h.value.length-1;t>=0;t--){const d=h.value[t],u=U(g.value.children[t].getBoundingClientRect());if(!(s.right<u.left||s.left>u.right||s.top>u.bottom||s.bottom<u.top)){Z();return}s.left>u.right&&!d.isScored&&(d.isScored=!0,K()),d.marginLeft<-200&&h.value.splice(t,1)}for(let t=m.value.length-1;t>=0;t--){const d=m.value[t],u=U(r.value.children[t].getBoundingClientRect());!(s.right<u.left||s.left>u.right||s.top>u.bottom||s.bottom<u.top)&&!d.isScored&&(d.isScored=!0,K(),m.value.splice(t,1))}}function U(e){return{top:e.top+e.height*.1,right:e.right-e.width*.1,bottom:e.bottom-e.height*.1,left:e.left+e.width*.1}}function K(){b.value+=1}function Z(){p.value=!1,b.value=0,L&&clearInterval(L),y&&clearInterval(y),_&&clearInterval(_),h.value.splice(0),m.value.splice(0),k.value=!1,I.value=!0}return(e,s)=>(n(),c("div",fe,[f("div",{ref_key:"road",ref:i,class:"game-road",style:w({marginLeft:`${N.value}px`})},null,4),f("div",{ref_key:"obstacleContainer",ref:g,class:"absolute w-full h-full overflow-hidden"},[(n(!0),c(q,null,z(h.value,t=>(n(),c("img",{class:"absolute bottom-0",src:ie,key:t.id,style:w({height:`${t.height}px`,marginLeft:`${t.marginLeft}px`})},null,4))),128))],512),f("div",{ref_key:"foodContainer",ref:r,class:"absolute bottom-0 w-full h-full overflow-hidden"},[(n(!0),c(q,null,z(m.value,t=>(n(),V(D(de),{class:"absolute",key:t.id,style:w({width:`${t.size}px`,height:`${t.size}px`,marginLeft:`${t.marginLeft}px`,bottom:`${t.bottom}px`})},null,8,["style"]))),128))],512),f("img",{ref_key:"player",ref:o,class:"absolute bottom-0 left-[18%] w-12 h-12 -scale-x-[1]",src:re,style:w({bottom:`${S.value}px`})},null,4),k.value?(n(),c("p",he," 得分："+j(b.value),1)):F("",!0),I.value?(n(),c("p",me," 按空格键开始游戏 ")):F("",!0)]))}}),pe=te(ge,[["__scopeId","data-v-f53cfb57"]]),ve="/me/assets/color_up-7lkf3cYo.jpg",be={id:G.uniqueId(),name:"七彩蹦蹦",logo:ve,desc:"基于 Cocos Creator 开发的躲避障碍物的微信小游戏。",detailUrl:"https://github.com/shichaohui/ColorUp",codeUrl:"https://github.com/shichaohui/ColorUp",playUrl:"https://shichaohui.github.io/games/ColorUp/index.html"},ye={id:G.uniqueId(),name:"菜市场刀王",logo:se,desc:"使用 Cocos Creator 开发的基于飞刀投掷机制的微信小游戏。",detailUrl:`/me#/work?id=${oe}`},_e=[be,ye],we={class:"w-[80%] p-4 my-5 mx-auto bg-(--el-bg-color) border border-(--el-border-color) rounded-lg shadow-2xs"},xe={class:"flex items-center justify-center"},ke=["src","alt"],Ie={class:"ml-2 text-lg font-bold"},Me={class:"mt-2 text-center"},Ce=E({__name:"Game",props:{game:{}},setup(a){function i(g=""){return g.startsWith("/me")?"":"_blank"}return(g,r)=>{const o=ne,p=ae;return n(),c("div",we,[f("div",xe,[f("img",{class:"w-8 h-8 rounded-full border border-(--el-border-color)",src:a.game.logo,alt:a.game.name},null,8,ke),f("span",Ie,j(a.game.name),1)]),f("p",Me,j(a.game.desc),1),v(p,{class:"mt-2 flex justify-center",size:"large",spacer:"|"},{default:x(()=>[v(o,{type:"primary",href:a.game.detailUrl,target:i(a.game.detailUrl),disabled:!a.game.detailUrl},{default:x(()=>[...r[0]||(r[0]=[$(" 详情 ",-1)])]),_:1},8,["href","target","disabled"]),v(o,{type:"primary",href:a.game.codeUrl,target:i(a.game.codeUrl),disabled:!a.game.codeUrl},{default:x(()=>[...r[1]||(r[1]=[$(" 源码 ",-1)])]),_:1},8,["href","target","disabled"]),v(o,{type:"primary",href:a.game.playUrl,target:i(a.game.playUrl),disabled:!a.game.playUrl},{default:x(()=>[...r[2]||(r[2]=[$(" 试玩 ",-1)])]),_:1},8,["href","target","disabled"])]),_:1})])}}}),Le={key:0,class:"fixed -z-1 bottom-0 w-full h-full overflow-hidden"},Se={class:"w-full h-full overflow-auto"},Be=E({__name:"index",setup(a){const i=le.isMobile();return(g,r)=>(n(),c("div",null,[D(i)?F("",!0):(n(),c("div",Le,[v(pe)])),f("div",Se,[(n(!0),c(q,null,z(D(_e),o=>(n(),V(Ce,{key:o.id,game:o},null,8,["game"]))),128))])]))}});export{Be as default};
//# sourceMappingURL=index-CMs6EQ6y.js.map
