var J=Object.defineProperty;var q=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u=(e,t,r)=>(q(e,typeof t!="symbol"?t+"":t,r),r);import{v as X,x as T,o as c,c as d,b as h,y as b,F as S,f as w,t as E,z as R,d as N,a as y,w as I,h as B,A as Q,B as Y,e as Z,g as ee}from"./vendor.cdd7f7a2.js";import{_ as A}from"./index.156c4084.js";import{l as z,a as te,k as re}from"./index.e33af255.js";/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},C(e)}function F(e,t){return F=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},F(e,t)}function se(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:ae(e)}function le(e){var t=se();return function(){var n=C(e),i;if(t){var s=C(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return ue(this,i)}}function ce(e){return fe(e)||de(e)||he(e)||pe()}function fe(e){if(Array.isArray(e))return x(e)}function de(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function he(e,t){if(!!e){if(typeof e=="string")return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}}function x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(e,t,r){Object.defineProperty(e,t,{get:r,enumerable:!1,configurable:!0})}function me(e,t,r){Object.defineProperty(e,t,{get:function(){return r[t].value},set:function(i){r[t].value=i},enumerable:!0,configurable:!0})}function ge(e){var t=Object.getPrototypeOf(e.prototype);if(!!t)return t.constructor}function L(e,t){return e.hasOwnProperty(t)?e[t]:void 0}var V=function(){function e(t,r){var n=this;D(this,e),O(this,"$props",function(){return t}),O(this,"$attrs",function(){return r.attrs}),O(this,"$slots",function(){return r.slots}),O(this,"$emit",function(){return r.emit}),Object.keys(t).forEach(function(i){Object.defineProperty(n,i,{enumerable:!1,configurable:!0,writable:!0,value:t[i]})})}return ne(e,null,[{key:"registerHooks",value:function(r){var n;(n=this.__h).push.apply(n,ce(r))}},{key:"with",value:function(r){var n=new r,i={};Object.keys(n).forEach(function(o){var a=n[o];i[o]=a!=null?a:null});var s=function(o){oe(p,o);var a=le(p);function p(){return D(this,p),a.apply(this,arguments)}return p}(this);return s.__b={props:i},s}},{key:"__vccOpts",get:function(){if(this===K)return{};var r=this,n=L(r,"__c");if(n)return n;var i=j({},L(r,"__o"));r.__c=i;var s=ge(r);s&&(i.extends=s.__vccOpts);var o=L(r,"__b");o&&(i.mixins=i.mixins||[],i.mixins.unshift(o)),i.methods=j({},i.methods),i.computed=j({},i.computed);var a=r.prototype;Object.getOwnPropertyNames(a).forEach(function(l){if(l!=="constructor"){if(r.__h.indexOf(l)>-1){i[l]=a[l];return}var g=Object.getOwnPropertyDescriptor(a,l);if(typeof g.value=="function"){i.methods[l]=g.value;return}if(g.get||g.set){i.computed[l]={get:g.get,set:g.set};return}}}),i.setup=function(l,g){var $,m=new r(l,g),U=Object.keys(m),_={},v=null;return U.forEach(function(f){m[f]===void 0||m[f]&&m[f].__s||(_[f]=X(m[f]),me(m,f,_))}),U.forEach(function(f){if(m[f]&&m[f].__s){var P=m[f].__s();P instanceof Promise?(v||(v=Promise.resolve(_)),v=v.then(function(){return P.then(function(k){return _[f]=T(k),_})})):_[f]=T(P)}}),($=v)!==null&&$!==void 0?$:_};var p=L(r,"__d");p&&p.forEach(function(l){return l(i)});var W=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return W.forEach(function(l){r[l]&&(i[l]=r[l])}),i}}]),e}();V.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var K=V;function _e(e){return function(t){return t.__o=e,t}}var ve="/me/assets/cloud.1d6341bd.svg",be="/me/assets/obstacle.c693542a.gif",ye="/me/assets/food.51419ff6.svg",Ie="/me/assets/player.993d3eb5.gif";var Oe=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,Se=(e,t,r,n)=>{for(var i=n>1?void 0:n?Le(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&Oe(t,r,i),i};let M=class extends K{constructor(){super(...arguments);u(this,"isPlaying",!1);u(this,"isShowScore",!1);u(this,"isShowTips",!0);u(this,"currentScore",0);u(this,"jumpHeight",0);u(this,"isJumping",!1);u(this,"speed",5);u(this,"cloudMinSpeed",1);u(this,"cloudMaxSpeed",3);u(this,"gameIntervalId",null);u(this,"generateCloudIntervalId",null);u(this,"generateObstacleIntervalId",null);u(this,"generateFoodIntervalId",null);u(this,"playerBottom",0);u(this,"roadMarginLeft",0);u(this,"cloudList",[]);u(this,"obstacleList",[]);u(this,"foodList",[])}mounted(){this.jumpHeight=this.$refs.player.clientHeight*2.5,document.onkeydown=e=>{(window.event?e.keyCode:e.which)==32&&(this.isPlaying||this.start(),this.jump())}}start(){this.isPlaying=!0,this.gameIntervalId=setInterval(this.gameInterval,16),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,0),this.generateFoodIntervalId=setTimeout(this.generateFood,5e3),this.isShowScore=!0,this.isShowTips=!1}gameInterval(){this.moveRoad(),this.moveObstacle(),this.moveFood(),this.checkGameState()}moveRoad(){const{road:e}=this.$refs;let t=parseInt(e.style.marginLeft)-this.speed;Math.abs(t)>e.clientWidth/2&&(t=0),this.roadMarginLeft=t}moveCloud(){for(let e=0;e<this.cloudList.length;e++)this.cloudList[e].marginLeft-=this.cloudList[e].speed}moveObstacle(){for(let e=0;e<this.obstacleList.length;e++)this.obstacleList[e].marginLeft-=this.speed}moveFood(){for(let e=0;e<this.foodList.length;e++)this.foodList[e].marginLeft-=this.speed}generateCloud(){const{cloudContainer:e,player:t}=this.$refs;this.cloudList.push({id:Math.random().toString(),height:(Math.random()+.5)*t.clientHeight,marginTop:Math.random()*(e.clientHeight-t.clientHeight),marginLeft:e.clientWidth,speed:Math.random()*(this.cloudMaxSpeed-this.cloudMinSpeed)+this.cloudMinSpeed}),this.generateCloudIntervalId=setTimeout(this.generateCloud,Math.random()*1500+2500)}generateObstacle(){const{obstacleContainer:e,player:t}=this.$refs,r=Math.random()*this.currentScore/10*.1+1;this.obstacleList.push({id:Math.random().toString(),height:r*t.clientHeight,marginLeft:e.clientWidth,isScored:!1}),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,Math.random()*1e3+2e3)}generateFood(){this.foodList.push({id:Math.random().toString(),height:this.$refs.player.clientHeight/3*2,marginLeft:this.$refs.foodContainer.clientWidth,bottom:Math.random()*this.jumpHeight,isScored:!1}),this.generateFoodIntervalId=setTimeout(this.generateFood,Math.random()*5e3+5e3)}jump(){if(this.isJumping)return;this.isJumping=!0;const{player:e}=this.$refs,t=parseInt(e.style.bottom);let r=0;const n=setInterval(()=>{const i=Math.sin(r+=.06)*this.jumpHeight;i>t?this.playerBottom=i:(this.playerBottom=t,clearInterval(n),this.isJumping=!1)},16)}checkGameState(){for(let s=this.cloudList.length-1;s>=0;s--)this.cloudList[s].marginLeft<-200&&this.cloudList.splice(s,1);const{player:t}=this.$refs,r=this.zoomOutBound(t.getBoundingClientRect()),{obstacleContainer:n}=this.$refs;for(let s=this.obstacleList.length-1;s>=0;s--){const o=this.obstacleList[s],a=this.zoomOutBound(n.children[s].getBoundingClientRect());if(!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)){this.over();return}r.left>a.right&&!o.isScored&&(o.isScored=!0,this.scoring()),o.marginLeft<-200&&this.obstacleList.splice(s,1)}const{foodContainer:i}=this.$refs;for(let s=this.foodList.length-1;s>=0;s--){const o=this.foodList[s],a=this.zoomOutBound(i.children[s].getBoundingClientRect());!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)&&!o.isScored&&(o.isScored=!0,this.scoring(),this.foodList.splice(s,1))}}zoomOutBound(e){return{top:e.top+e.height*.1,right:e.right-e.width*.1,bottom:e.bottom-e.height*.1,left:e.left+e.width*.1}}scoring(){this.currentScore+=1}over(){this.isPlaying=!1,this.currentScore=0,this.gameIntervalId&&clearInterval(this.gameIntervalId),this.generateCloudIntervalId&&clearInterval(this.generateCloudIntervalId),this.generateObstacleIntervalId&&clearInterval(this.generateObstacleIntervalId),this.generateFoodIntervalId&&clearInterval(this.generateFoodIntervalId),this.cloudList.splice(0),this.obstacleList.splice(0),this.foodList.splice(0),this.isShowScore=!1,this.isShowTips=!0}};M=Se([_e({})],M);const we=M,Ce={class:"internalGame"},$e={ref:"cloudContainer",class:"cloudContainer"},Pe={ref:"obstacleContainer",class:"obstacleContainer"},je={ref:"foodContainer",class:"foodContainer"},Ee={key:0,class:"score"},Fe={key:1,class:"tips"};function xe(e,t,r,n,i,s){return c(),d("div",Ce,[h("div",{ref:"road",class:"road",style:b({marginLeft:`${e.roadMarginLeft}px`})},null,4),h("div",$e,[(c(!0),d(S,null,w(e.cloudList,o=>(c(),d("img",{class:"cloud",src:ve,key:o.id,style:b({height:`${o.height}px`,marginTop:`${o.marginTop}px`,marginLeft:`${o.marginLeft}px`})},null,4))),128))],512),h("div",Pe,[(c(!0),d(S,null,w(e.obstacleList,o=>(c(),d("img",{class:"obstacle",src:be,key:o.id,style:b({height:`${o.height}px`,marginLeft:`${o.marginLeft}px`})},null,4))),128))],512),h("div",je,[(c(!0),d(S,null,w(e.foodList,o=>(c(),d("img",{class:"food",src:ye,key:o.id,style:b({height:`${o.height}px`,marginLeft:`${o.marginLeft}px`,bottom:`${o.bottom}px`})},null,4))),128))],512),h("img",{ref:"player",class:"player flipX",src:Ie,style:b({bottom:`${e.playerBottom}px`})},null,4),e.isShowScore?(c(),d("p",Ee,"\u5F97\u5206\uFF1A"+E(e.currentScore),1)):R("",!0),e.isShowTips?(c(),d("p",Fe,"\u6309\u7A7A\u683C\u952E\u5F00\u59CB\u6E38\u620F")):R("",!0)])}var Me=A(we,[["render",xe],["__scopeId","data-v-01da509e"]]);const Be={class:"game"},Ae=["src","alt"],Ue={class:"name"},Te=B(" \u8BE6\u60C5 "),Re=B(" \u6E90\u7801 "),De=B(" \u8BD5\u73A9 "),He=N({props:{game:null},setup(e){function t(r=""){return r.startsWith("/me/")?"":"_blank"}return(r,n)=>{const i=Q,s=Y;return c(),d("div",Be,[h("div",null,[h("img",{class:"logo",src:e.game.logo,alt:e.game.name},null,8,Ae),h("h1",Ue,E(e.game.name),1)]),h("p",null,E(e.game.desc),1),y(s,{size:"large",spacer:"|"},{default:I(()=>[y(i,{type:"primary",href:e.game.detailUrl,target:t(e.game.detailUrl),disabled:!e.game.detailUrl},{default:I(()=>[Te]),_:1},8,["href","target","disabled"]),y(i,{type:"primary",href:e.game.codeUrl,target:t(e.game.codeUrl),disabled:!e.game.codeUrl},{default:I(()=>[Re]),_:1},8,["href","target","disabled"]),y(i,{type:"primary",href:e.game.playUrl,target:t(e.game.playUrl),disabled:!e.game.playUrl},{default:I(()=>[De]),_:1},8,["href","target","disabled"])]),_:1})])}}});var Ge=A(He,[["__scopeId","data-v-6c8bd619"]]),Ne="/me/assets/ColorUp.30fb190b.jpg";const ze={id:z.exports.uniqueId(),name:"\u4E03\u5F69\u8E66\u8E66",logo:Ne,desc:"\u57FA\u4E8E Cocos Creator \u5F00\u53D1\u7684\u8EB2\u907F\u969C\u788D\u7269\u7684\u5FAE\u4FE1\u5C0F\u6E38\u620F\u3002",detailUrl:"https://github.com/shichaohui/ColorUp",codeUrl:"https://github.com/shichaohui/ColorUp",playUrl:"https://shichaohui.github.io/games/ColorUp/index.html"},Ve={id:z.exports.uniqueId(),name:"\u83DC\u5E02\u573A\u5200\u738B",logo:te,desc:"\u4F7F\u7528 CocosCreator \u5F00\u53D1\u7684\u57FA\u4E8E\u98DE\u5200\u6295\u63B7\u673A\u5236\u7684\u5FAE\u4FE1\u5C0F\u6E38\u620F\u3002",detailUrl:`/me/#/works?id=${re}`},Ke=[ze,Ve];const We={class:"internalGame"},ke={class:"gameList"},Je=N({setup(e){return(t,r)=>(c(),d("div",null,[h("div",We,[y(Me)]),h("div",ke,[(c(!0),d(S,null,w(Z(Ke),n=>(c(),ee(Ge,{key:n.id,game:n},null,8,["game"]))),128))])]))}});var Ze=A(Je,[["__scopeId","data-v-d93e91c2"]]);export{Ze as default};
//# sourceMappingURL=index.4241e387.js.map
