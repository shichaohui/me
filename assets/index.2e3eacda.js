var q=Object.defineProperty;var X=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u=(e,t,r)=>(X(e,typeof t!="symbol"?t+"":t,r),r);import{z as Q,A as R,o as c,c as f,b as h,B as b,F as S,f as w,t as E,C as F,d as z,a as y,w as I,h as A,D as Y,G as Z,e as D,g as ee}from"./vendor.1787915b.js";import{_ as T}from"./index.f8e300f9.js";import{l as V,a as te,k as re,d as ne}from"./device.0925706e.js";/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ie(e,t,r){return t&&G(e.prototype,t),r&&G(e,r),e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(i){oe(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},C(e)}function M(e,t){return M=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},M(e,t)}function ae(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:ue(e)}function ce(e){var t=ae();return function(){var i=C(e),n;if(t){var s=C(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return le(this,n)}}function fe(e){return de(e)||he(e)||pe(e)||me()}function de(e){if(Array.isArray(e))return x(e)}function he(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function pe(e,t){if(!!e){if(typeof e=="string")return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}}function x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(e,t,r){Object.defineProperty(e,t,{get:r,enumerable:!1,configurable:!0})}function ge(e,t,r){Object.defineProperty(e,t,{get:function(){return r[t].value},set:function(n){r[t].value=n},enumerable:!0,configurable:!0})}function _e(e){var t=Object.getPrototypeOf(e.prototype);if(!!t)return t.constructor}function L(e,t){return e.hasOwnProperty(t)?e[t]:void 0}var k=function(){function e(t,r){var i=this;H(this,e),O(this,"$props",function(){return t}),O(this,"$attrs",function(){return r.attrs}),O(this,"$slots",function(){return r.slots}),O(this,"$emit",function(){return r.emit}),Object.keys(t).forEach(function(n){Object.defineProperty(i,n,{enumerable:!1,configurable:!0,writable:!0,value:t[n]})})}return ie(e,null,[{key:"registerHooks",value:function(r){var i;(i=this.__h).push.apply(i,fe(r))}},{key:"with",value:function(r){var i=new r,n={};Object.keys(i).forEach(function(o){var a=i[o];n[o]=a!=null?a:null});var s=function(o){se(p,o);var a=ce(p);function p(){return H(this,p),a.apply(this,arguments)}return p}(this);return s.__b={props:n},s}},{key:"__vccOpts",get:function(){if(this===K)return{};var r=this,i=L(r,"__c");if(i)return i;var n=j({},L(r,"__o"));r.__c=n;var s=_e(r);s&&(n.extends=s.__vccOpts);var o=L(r,"__b");o&&(n.mixins=n.mixins||[],n.mixins.unshift(o)),n.methods=j({},n.methods),n.computed=j({},n.computed);var a=r.prototype;Object.getOwnPropertyNames(a).forEach(function(l){if(l!=="constructor"){if(r.__h.indexOf(l)>-1){n[l]=a[l];return}var g=Object.getOwnPropertyDescriptor(a,l);if(typeof g.value=="function"){n.methods[l]=g.value;return}if(g.get||g.set){n.computed[l]={get:g.get,set:g.set};return}}}),n.setup=function(l,g){var $,m=new r(l,g),U=Object.keys(m),_={},v=null;return U.forEach(function(d){m[d]===void 0||m[d]&&m[d].__s||(_[d]=Q(m[d]),ge(m,d,_))}),U.forEach(function(d){if(m[d]&&m[d].__s){var P=m[d].__s();P instanceof Promise?(v||(v=Promise.resolve(_)),v=v.then(function(){return P.then(function(J){return _[d]=R(J),_})})):_[d]=R(P)}}),($=v)!==null&&$!==void 0?$:_};var p=L(r,"__d");p&&p.forEach(function(l){return l(n)});var W=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return W.forEach(function(l){r[l]&&(n[l]=r[l])}),n}}]),e}();k.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var K=k;function ve(e){return function(t){return t.__o=e,t}}var be="/me/assets/cloud.1d6341bd.svg",ye="/me/assets/obstacle.c693542a.gif",Ie="/me/assets/food.51419ff6.svg",Oe="/me/assets/player.993d3eb5.gif";var Le=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,we=(e,t,r,i)=>{for(var n=i>1?void 0:i?Se(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(n=(i?o(t,r,n):o(n))||n);return i&&n&&Le(t,r,n),n};let B=class extends K{constructor(){super(...arguments);u(this,"isPlaying",!1);u(this,"isShowScore",!1);u(this,"isShowTips",!0);u(this,"currentScore",0);u(this,"jumpHeight",0);u(this,"isJumping",!1);u(this,"speed",5);u(this,"cloudMinSpeed",1);u(this,"cloudMaxSpeed",3);u(this,"gameIntervalId",null);u(this,"generateCloudIntervalId",null);u(this,"generateObstacleIntervalId",null);u(this,"generateFoodIntervalId",null);u(this,"playerBottom",0);u(this,"roadMarginLeft",0);u(this,"cloudList",[]);u(this,"obstacleList",[]);u(this,"foodList",[])}mounted(){this.jumpHeight=this.$refs.player.clientHeight*2.5,document.onkeydown=e=>{(window.event?e.keyCode:e.which)==32&&(this.isPlaying||this.start(),this.jump())}}start(){this.isPlaying=!0,this.gameIntervalId=setInterval(this.gameInterval,16),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,0),this.generateFoodIntervalId=setTimeout(this.generateFood,5e3),this.isShowScore=!0,this.isShowTips=!1}gameInterval(){this.moveRoad(),this.moveObstacle(),this.moveFood(),this.checkGameState()}moveRoad(){const{road:e}=this.$refs;let t=parseInt(e.style.marginLeft)-this.speed;Math.abs(t)>e.clientWidth/2&&(t=0),this.roadMarginLeft=t}moveCloud(){for(let e=0;e<this.cloudList.length;e++)this.cloudList[e].marginLeft-=this.cloudList[e].speed}moveObstacle(){for(let e=0;e<this.obstacleList.length;e++)this.obstacleList[e].marginLeft-=this.speed}moveFood(){for(let e=0;e<this.foodList.length;e++)this.foodList[e].marginLeft-=this.speed}generateCloud(){const{cloudContainer:e,player:t}=this.$refs;this.cloudList.push({id:Math.random().toString(),height:(Math.random()+.5)*t.clientHeight,marginTop:Math.random()*(e.clientHeight-t.clientHeight),marginLeft:e.clientWidth,speed:Math.random()*(this.cloudMaxSpeed-this.cloudMinSpeed)+this.cloudMinSpeed}),this.generateCloudIntervalId=setTimeout(this.generateCloud,Math.random()*1500+2500)}generateObstacle(){const{obstacleContainer:e,player:t}=this.$refs,r=Math.random()*this.currentScore/10*.1+1;this.obstacleList.push({id:Math.random().toString(),height:r*t.clientHeight,marginLeft:e.clientWidth,isScored:!1}),this.generateObstacleIntervalId=setTimeout(this.generateObstacle,Math.random()*1e3+2e3)}generateFood(){this.foodList.push({id:Math.random().toString(),height:this.$refs.player.clientHeight/3*2,marginLeft:this.$refs.foodContainer.clientWidth,bottom:Math.random()*this.jumpHeight,isScored:!1}),this.generateFoodIntervalId=setTimeout(this.generateFood,Math.random()*5e3+5e3)}jump(){if(this.isJumping)return;this.isJumping=!0;const{player:e}=this.$refs,t=parseInt(e.style.bottom);let r=0;const i=setInterval(()=>{const n=Math.sin(r+=.06)*this.jumpHeight;n>t?this.playerBottom=n:(this.playerBottom=t,clearInterval(i),this.isJumping=!1)},16)}checkGameState(){for(let s=this.cloudList.length-1;s>=0;s--)this.cloudList[s].marginLeft<-200&&this.cloudList.splice(s,1);const{player:t}=this.$refs,r=this.zoomOutBound(t.getBoundingClientRect()),{obstacleContainer:i}=this.$refs;for(let s=this.obstacleList.length-1;s>=0;s--){const o=this.obstacleList[s],a=this.zoomOutBound(i.children[s].getBoundingClientRect());if(!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)){this.over();return}r.left>a.right&&!o.isScored&&(o.isScored=!0,this.scoring()),o.marginLeft<-200&&this.obstacleList.splice(s,1)}const{foodContainer:n}=this.$refs;for(let s=this.foodList.length-1;s>=0;s--){const o=this.foodList[s],a=this.zoomOutBound(n.children[s].getBoundingClientRect());!(r.right<a.left||r.left>a.right||r.top>a.bottom||r.bottom<a.top)&&!o.isScored&&(o.isScored=!0,this.scoring(),this.foodList.splice(s,1))}}zoomOutBound(e){return{top:e.top+e.height*.1,right:e.right-e.width*.1,bottom:e.bottom-e.height*.1,left:e.left+e.width*.1}}scoring(){this.currentScore+=1}over(){this.isPlaying=!1,this.currentScore=0,this.gameIntervalId&&clearInterval(this.gameIntervalId),this.generateCloudIntervalId&&clearInterval(this.generateCloudIntervalId),this.generateObstacleIntervalId&&clearInterval(this.generateObstacleIntervalId),this.generateFoodIntervalId&&clearInterval(this.generateFoodIntervalId),this.cloudList.splice(0),this.obstacleList.splice(0),this.foodList.splice(0),this.isShowScore=!1,this.isShowTips=!0}};B=we([ve({})],B);const Ce=B,$e={class:"internalGame"},Pe={ref:"cloudContainer",class:"cloudContainer"},je={ref:"obstacleContainer",class:"obstacleContainer"},Ee={ref:"foodContainer",class:"foodContainer"},Fe={key:0,class:"score"},Me={key:1,class:"tips"};function xe(e,t,r,i,n,s){return c(),f("div",$e,[h("div",{ref:"road",class:"road",style:b({marginLeft:`${e.roadMarginLeft}px`})},null,4),h("div",Pe,[(c(!0),f(S,null,w(e.cloudList,o=>(c(),f("img",{class:"cloud",src:be,key:o.id,style:b({height:`${o.height}px`,marginTop:`${o.marginTop}px`,marginLeft:`${o.marginLeft}px`})},null,4))),128))],512),h("div",je,[(c(!0),f(S,null,w(e.obstacleList,o=>(c(),f("img",{class:"obstacle",src:ye,key:o.id,style:b({height:`${o.height}px`,marginLeft:`${o.marginLeft}px`})},null,4))),128))],512),h("div",Ee,[(c(!0),f(S,null,w(e.foodList,o=>(c(),f("img",{class:"food",src:Ie,key:o.id,style:b({height:`${o.height}px`,marginLeft:`${o.marginLeft}px`,bottom:`${o.bottom}px`})},null,4))),128))],512),h("img",{ref:"player",class:"player flipX",src:Oe,style:b({bottom:`${e.playerBottom}px`})},null,4),e.isShowScore?(c(),f("p",Fe,"\u5F97\u5206\uFF1A"+E(e.currentScore),1)):F("",!0),e.isShowTips?(c(),f("p",Me,"\u6309\u7A7A\u683C\u952E\u5F00\u59CB\u6E38\u620F")):F("",!0)])}var Be=T(Ce,[["render",xe],["__scopeId","data-v-01da509e"]]);const Ae={class:"game"},Te=["src","alt"],Ue={class:"name"},Re=A(" \u8BE6\u60C5 "),De=A(" \u6E90\u7801 "),He=A(" \u8BD5\u73A9 "),Ge=z({props:{game:null},setup(e){function t(r=""){return r.startsWith("/me/")?"":"_blank"}return(r,i)=>{const n=Y,s=Z;return c(),f("div",Ae,[h("div",null,[h("img",{class:"logo",src:e.game.logo,alt:e.game.name},null,8,Te),h("h1",Ue,E(e.game.name),1)]),h("p",null,E(e.game.desc),1),y(s,{size:"large",spacer:"|"},{default:I(()=>[y(n,{type:"primary",href:e.game.detailUrl,target:t(e.game.detailUrl),disabled:!e.game.detailUrl},{default:I(()=>[Re]),_:1},8,["href","target","disabled"]),y(n,{type:"primary",href:e.game.codeUrl,target:t(e.game.codeUrl),disabled:!e.game.codeUrl},{default:I(()=>[De]),_:1},8,["href","target","disabled"]),y(n,{type:"primary",href:e.game.playUrl,target:t(e.game.playUrl),disabled:!e.game.playUrl},{default:I(()=>[He]),_:1},8,["href","target","disabled"])]),_:1})])}}});var Ne=T(Ge,[["__scopeId","data-v-6c8bd619"]]),ze="/me/assets/color_up.30fb190b.jpg";const Ve={id:V.exports.uniqueId(),name:"\u4E03\u5F69\u8E66\u8E66",logo:ze,desc:"\u57FA\u4E8E Cocos Creator \u5F00\u53D1\u7684\u8EB2\u907F\u969C\u788D\u7269\u7684\u5FAE\u4FE1\u5C0F\u6E38\u620F\u3002",detailUrl:"https://github.com/shichaohui/ColorUp",codeUrl:"https://github.com/shichaohui/ColorUp",playUrl:"https://shichaohui.github.io/games/ColorUp/index.html"},ke={id:V.exports.uniqueId(),name:"\u83DC\u5E02\u573A\u5200\u738B",logo:te,desc:"\u4F7F\u7528 Cocos Creator \u5F00\u53D1\u7684\u57FA\u4E8E\u98DE\u5200\u6295\u63B7\u673A\u5236\u7684\u5FAE\u4FE1\u5C0F\u6E38\u620F\u3002",detailUrl:`/me/#/works?id=${re}`},Ke=[Ve,ke];const We={key:0,class:"internalGame"},Je={class:"gameList"},qe=z({setup(e){const t=ne.isMobile();return(r,i)=>(c(),f("div",null,[D(t)?F("",!0):(c(),f("div",We,[y(Be)])),h("div",Je,[(c(!0),f(S,null,w(D(Ke),n=>(c(),ee(Ne,{key:n.id,game:n},null,8,["game"]))),128))])]))}});var et=T(qe,[["__scopeId","data-v-131f4794"]]);export{et as default};
//# sourceMappingURL=index.2e3eacda.js.map
